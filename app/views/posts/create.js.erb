<% if @post.errors.any? %>
  // handle validation errors later
<% else %>
  const postsContainer = document.querySelector('.posts');
  postsContainer.insertAdjacentHTML('afterbegin', '<%= j render "post", post: @post');
  const input = document.querySelector('#post_content');
  input.value = '';
  $('#closeModale').click();
  setTimeout(function(){scrollLastPostIntoView();}, 200);
<% end %>
